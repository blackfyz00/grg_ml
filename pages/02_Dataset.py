# pages/2_–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è_–æ_—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ.py

import streamlit as st
import matplotlib.pyplot as plt
import seaborn as sns

st.set_page_config(page_title="–û–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö", layout="wide")
st.title("üìä –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ ‚Äî –ü–æ–µ–∑–¥–∫–∏ –Ω–∞ —Ç–∞–∫—Å–∏")

st.markdown("""
–î–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–µ–∑–¥–∫–∞—Ö —Ç–∞–∫—Å–∏. –¶–µ–ª—å ‚Äî –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–µ–∑–¥–∫–∏ (`trip_duration`) 
–Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä—è–¥–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –î–∞—Ç–∞—Å–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–∫ —á–∏—Å–ª–æ–≤—ã–µ, —Ç–∞–∫ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é one-hot encoding.
""")

st.header("üî¢ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞")

data_description = {
    "passenger_count": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 10)",
    "trip_duration": "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏ –≤ **–º–∏–Ω—É—Ç–∞—Ö** (–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ). *–¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è*",
    "month": "–ú–µ—Å—è—Ü —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–µ–∑–¥–∫–∏ (—á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 12)",
    "date": "–ß–∏—Å–ª–æ –º–µ—Å—è—Ü–∞ (–æ—Ç 1 –¥–æ 31)",
    "trip_distance_km": "–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏ –≤ **–∫–∏–ª–æ–º–µ—Ç—Ä–∞—Ö** (–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ)",
    "country_Canada": "–§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –±—ã–ª–∞ –ª–∏ –ø–æ–µ–∑–¥–∫–∞ –≤ –ö–∞–Ω–∞–¥–µ (1 ‚Äî –¥–∞, 0 ‚Äî –Ω–µ—Ç)",
    "country_United States of America": "–§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –±—ã–ª–∞ –ª–∏ –ø–æ–µ–∑–¥–∫–∞ –≤ –°–®–ê (1 ‚Äî –¥–∞, 0 ‚Äî –Ω–µ—Ç)",
    "daytime_afternoon": "–§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –±—ã–ª–∞ –ª–∏ –ø–æ–µ–∑–¥–∫–∞ –¥–Ω—ë–º (1 ‚Äî –¥–∞, 0 ‚Äî –Ω–µ—Ç)",
    "daytime_evening": "–§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –±—ã–ª–∞ –ª–∏ –ø–æ–µ–∑–¥–∫–∞ –≤–µ—á–µ—Ä–æ–º (1 ‚Äî –¥–∞, 0 ‚Äî –Ω–µ—Ç)",
    "daytime_morning": "–§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –±—ã–ª–∞ –ª–∏ –ø–æ–µ–∑–¥–∫–∞ —É—Ç—Ä–æ–º (1 ‚Äî –¥–∞, 0 ‚Äî –Ω–µ—Ç)",
    "daytime_night": "–§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –±—ã–ª–∞ –ª–∏ –ø–æ–µ–∑–¥–∫–∞ –Ω–æ—á—å—é (1 ‚Äî –¥–∞, 0 ‚Äî –Ω–µ—Ç)"
}

st.subheader("üìå –ü—Ä–∏–∑–Ω–∞–∫–∏ –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–µ:")
for feature, desc in data_description.items():
    st.markdown(f"**{feature}**: {desc}")

st.subheader("üéØ –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è")
st.markdown("`trip_duration` ‚Äî –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö.")

st.subheader("üßÆ –¢–∏–ø –∑–∞–¥–∞—á–∏")
st.markdown("–ó–∞–¥–∞—á–∞ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏: –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —á–∏—Å–ª–æ–≤–æ–π –≤–µ–ª–∏—á–∏–Ω—ã ‚Äî –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–µ–∑–¥–∫–∏.")

st.subheader("üìé –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞")
example_row = """
| passenger_count | trip_duration | month | date | trip_distance_km | country_Canada | country_United States of America | daytime_afternoon | daytime_evening | daytime_morning | daytime_night |
|------------------|---------------|-------|------|-------------------|----------------|----------------------------------|-------------------|-----------------|-----------------|---------------|
|        2         |     15.6      |   4   |  12  |        7.3        |       0        |                1                 |         0         |        1        |        0        |       0       |
"""

st.markdown(example_row)
st.write(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤: {len(data_description)}")

st.markdown("---")

st.header("–≠—Ç–∞–ø—ã –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö (EDA)")
st.markdown("""
- –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (`None`) –±—ã–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Å—Ä–µ–¥–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ –ø—Ä–∏–∑–Ω–∞–∫—É, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –≤—ã–±—Ä–æ—Å–∞–º–∏.
- –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –≤—ã–±—Ä–æ—Å—ã –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã, –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ, –Ω–µ —è–≤–ª—è—é—â–∏–µ—Å—è –∞–Ω–æ–º–∞–ª—å–Ω—ã–º–∏ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.
- –ü—Ä–æ–≤–µ–¥—ë–Ω –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥—Ä–∞—Ñ–∏–∫–æ–≤: `boxplot`, `heatmap` –∏ `scatter plot`.
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —á—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫–∏ `trip_duration` (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–µ–∑–¥–∫–∏) –∏ `trip_distance_km` (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏) –∏–º–µ—é—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –±–ª–∏–∑–∫–æ–µ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É.
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±—ã–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `geopandas`.
- –ü—Ä–∏–∑–Ω–∞–∫–∏, –Ω–µ –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã), –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∏–∑ –¥–∞—Ç–∞—Å–µ—Ç–∞.
- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –±—ã–ª–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏, –∑–∞—Ç–µ–º –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –≤ –±–∏–Ω–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –º–µ–∂–¥—É –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø–æ–µ–∑–¥–∫–∏ –∏ –µ—ë —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ –≤–µ—á–µ—Ä–Ω–µ–µ –∏ –Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è.
""")